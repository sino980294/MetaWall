<div class="col-12 TitleDiv">
  修改個人資料
</div>
<div class="my-5">
  <ul ngbNav #nav="ngbNav" [(activeId)]="pageLabel" class="nav-tabs">
    <li [ngbNavItem]="'Info'" >
      <a ngbNavLink (click)="changeNavLink('Info')">暱稱修改</a>
      <ng-template ngbNavContent>
        <div class="UserInfoSection container">
          <div class="row ">
            <div class="col-8 mx-auto">
              <div class="UserImg mx-auto">
                <img [src]="userInfo.userPhoto" alt="" (error)="updateMyUserUrl()">
              </div>
              <div class="mt-2 text-center">
                <input #fileInput type="file" (change)="changeUserPhoto($event)" style="display:none;" />
                <button type="button" class=""(click)="fileInput.click()">上傳大頭照</button>
              </div>
              <form (ngSubmit)="sendUserInfoChange()" [formGroup]="userInfoForm">
                <div class="mt-3">
                  <label>暱稱</label>
                  <input type="text" class="w-100" formControlName="userName">
                  <label for="" class="mt-3">性別</label>
                  <div class="d-flex">
                    <input type="radio" id="male" class="my-auto me-3" formControlName="gender" value="male"><label
                      for="male" class="me-5">男性</label>
                    <input type="radio" id="female" class="my-auto me-3" formControlName="gender" value="female"><label
                      for="female">女性</label>
                  </div>
                </div>
                <p class="text-danger text-center mt-5">
                  {{userInfoSendError}}
                </p>
                <button class="send-btn my-1">送出更新</button>
              </form>
            </div>
          </div>
        </div>
      </ng-template>
    </li>
    <li [ngbNavItem]="'Password'">
      <a ngbNavLink (click)="changeNavLink('Password')">重設密碼</a>
      <ng-template ngbNavContent>

        <div class="UserInfoSection container">
          <div class="row ">
            <div class="col-8 mx-auto">
              <form (ngSubmit)="sendPasswordChange()" [formGroup]="passwordForm">
                <div class="mt-3">
                  <label>輸入新密碼</label>
                  <input type="text" class="w-100" formControlName="password" placeholder="請輸入新密碼">
                  <label>再次輸入</label>
                  <input type="text" class="w-100" formControlName="confirmNewPassword"placeholder="再次輸入新密碼">
                </div>
                <p class="text-danger text-center mt-5">
                  {{PasswordSendError}}
                </p>
                <button class="send-btn my-1">重設密碼</button>
              </form>
            </div>
          </div>
        </div>
      </ng-template>
    </li>
    <li [ngbNavItem]="'premiumMember'" >
      <a ngbNavLink (click)="changeNavLink('premiumMember')">會員資格</a>
      <ng-template ngbNavContent>
        <div class="UserInfoSection container">
          <div class="row ">
            <div class="col-8 mx-auto">
                <div class="mt-3">
                  <label class="mb-2">暱稱: {{premiumMemberInfo.data?.userName}} </label>
                  <br/>
                  <label  class="mb-2">會員資格: {{premiumMemberInfo.data?.premiumMember?.paid == 1 ? '是':'否'}} </label>
                  <br/>
                  <label  class="mb-2">會員開啟時間: {{premiumMemberInfo.data?.premiumMember?.startAt}} </label>

                </div>


            </div>
          </div>
        </div>
      </ng-template>
    </li>
  </ul>

  <div [ngbNavOutlet]="nav" class=""></div>

</div>
